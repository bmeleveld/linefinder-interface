# linefinder-interface
An interface built in Flask that allows users to parse through LIGO 'line' data.

This project has been in the works since June of 2020--previous versions of the readme file are found in the archives directory.

Authors: Jay Tasson, Vincent He, Larry Donahue, Malachy Bloom, Michael Yang

Current README [7/01/2021]:
This directory is used to populate a SQLite database with information about gravitational wave lines gathered from the LIGO collaboration and search said database for more specificity. As of the time of writing, the search tool is an interface that accesses a database of over 3.5 million line objects.

The first step to using this directory is to run init.py, which populates the database line_finder.db with line objects from files stored in the 'data' directory. It is important that, when running init.py, the correct data directory is chosen. The data directory should have subdirectories for weekly and monthly coherences, each of those should have subdirectories for each observatory, each of those should have subdirectories for each week (or month) of data collected, and these subdirectories should contain channel directories that each contain .txt files for various frequencies. This project previously used .mat files generated by LIGO's pycoh coherence calculation. It has since moved to using .txt files generated by the newer and more accurate fscan coherence calculation.

After the database is populated, app.py can be used to search it. As of the time of writing, the search tool can search six aspects of lines--run, frequency, coherence, week, channel, and observatory. The week, frequency, and coherence fields can be bounded by user input and dictate the sorting of the generated results. The run and observatory fields are radio selections that automatically apply filters. The channel field can be used to filter out channels that do not contain the user's input within their name. Once the desired filters are added, hitting the 'search' button on the webpage will return up to 2500 lines matching the filters on a new page. This limit is in place to prevent the webpage from timing out. There is no functionality on this page, so in order to run another query simply open up the page again by hitting 'back' on the browser. Users are also able to download the results in a sorted .csv file by clicking the "Download Results" link at the top of the page.

This project has reached its production version and is available on Carleton College's Virgo server at virgo.physics.carleton.edu/linefinder. The production version of this code can be found in a separate branch (prodready), and be cloned separately. This version of the file contains a conda environment with all appropriate packages installed as a .yml file and an empty shell of the database which can be populated using init.py. The data is not present due to security reasons, but can be pulled down from the LIGO cluster using CoherenceGrab.py and MrSnippy.py, two scripts which are in located in main/archive. These scripts are meant to be used in conjunction with one another on the LIGO cluster.

Any bug fixes or quality of life changes necessary will be pushed as needed. If you have questions, feel free to contact us:
donahuel@carleton.edu
yangm4@carleton.edu
bloomm@carleton.edu
tassonj@carleton.edu
